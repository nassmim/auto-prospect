{
  "id": "c84b5118-e1b4-47c4-bfb0-5ab96bf3ebf1",
  "prevId": "d73b4e4c-6e8b-46ec-97d5-b52cea7f3c87",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.sub_types": {
      "name": "sub_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "ad_type_id": {
          "name": "ad_type_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sub_types_ad_type_id_ad_types_id_fk": {
          "name": "sub_types_ad_type_id_ad_types_id_fk",
          "tableFrom": "sub_types",
          "columnsFrom": [
            "ad_type_id"
          ],
          "tableTo": "ad_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ad_sub_type_name_unique": {
          "name": "ad_sub_type_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ad_types": {
      "name": "ad_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ad_type_name_unique": {
          "name": "ad_type_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ads": {
      "name": "ads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type_id": {
          "name": "type_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "subtype_id": {
          "name": "subtype_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "driving_licence_id": {
          "name": "driving_licence_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "gear_box_id": {
          "name": "gear_box_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "vehicle_seats_id": {
          "name": "vehicle_seats_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "vehicle_state_id": {
          "name": "vehicle_state_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "brand_id": {
          "name": "brand_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fuel_id": {
          "name": "fuel_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_ad_id": {
          "name": "original_ad_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "picture": {
          "name": "picture",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "has_been_reposted": {
          "name": "has_been_reposted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_been_boosted": {
          "name": "has_been_boosted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_urgent": {
          "name": "is_urgent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "model_year": {
          "name": "model_year",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "initial_publication_date": {
          "name": "initial_publication_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "last_publication_date": {
          "name": "last_publication_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "mileage": {
          "name": "mileage",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "price_has_dropped": {
          "name": "price_has_dropped",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "favourite": {
          "name": "favourite",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "price_min": {
          "name": "price_min",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "price_max": {
          "name": "price_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "is_low_price": {
          "name": "is_low_price",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_whatsapp_phone": {
          "name": "is_whatsapp_phone",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "owner_name": {
          "name": "owner_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entry_year": {
          "name": "entry_year",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "has_phone": {
          "name": "has_phone",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "equipments": {
          "name": "equipments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "other_specifications": {
          "name": "other_specifications",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "technical_inspection_year": {
          "name": "technical_inspection_year",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accept_salesmen": {
          "name": "accept_salesmen",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "ads_created_at_location_state_flags_idx": {
          "name": "ads_created_at_location_state_flags_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "accept_salesmen",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "has_phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "owner_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subtype_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "vehicle_state_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "model_year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mileage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_low_price",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_urgent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "has_been_reposted",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "has_been_boosted",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "price_has_dropped",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "price",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "driving_licence_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "gear_box_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "vehicle_seats_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "brand_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fuel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "favourite",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "ads_title_search_idx": {
          "name": "ads_title_search_idx",
          "columns": [
            {
              "expression": "title",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "ads_type_id_ad_types_id_fk": {
          "name": "ads_type_id_ad_types_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "type_id"
          ],
          "tableTo": "ad_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_subtype_id_sub_types_id_fk": {
          "name": "ads_subtype_id_sub_types_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "subtype_id"
          ],
          "tableTo": "sub_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_driving_licence_id_driving_licences_id_fk": {
          "name": "ads_driving_licence_id_driving_licences_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "driving_licence_id"
          ],
          "tableTo": "driving_licences",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_gear_box_id_gear_boxes_id_fk": {
          "name": "ads_gear_box_id_gear_boxes_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "gear_box_id"
          ],
          "tableTo": "gear_boxes",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_vehicle_seats_id_vehicle_seats_id_fk": {
          "name": "ads_vehicle_seats_id_vehicle_seats_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "vehicle_seats_id"
          ],
          "tableTo": "vehicle_seats",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_vehicle_state_id_vehicle_states_id_fk": {
          "name": "ads_vehicle_state_id_vehicle_states_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "vehicle_state_id"
          ],
          "tableTo": "vehicle_states",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_location_id_locations_id_fk": {
          "name": "ads_location_id_locations_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "location_id"
          ],
          "tableTo": "locations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_brand_id_brands_id_fk": {
          "name": "ads_brand_id_brands_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "brand_id"
          ],
          "tableTo": "brands",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "ads_fuel_id_fuels_id_fk": {
          "name": "ads_fuel_id_fuels_id_fk",
          "tableFrom": "ads",
          "columnsFrom": [
            "fuel_id"
          ],
          "tableTo": "fuels",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ads_original_ad_id_unique": {
          "name": "ads_original_ad_id_unique",
          "columns": [
            "original_ad_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "Enable read access for authenticated users": {
          "name": "Enable read access for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.brands": {
      "name": "brands",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "brand_name_unique": {
          "name": "brand_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contacted_ads": {
      "name": "contacted_ads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ad_id": {
          "name": "ad_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_type_id": {
          "name": "message_type_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "contacted_ads_ad_id_ads_id_fk": {
          "name": "contacted_ads_ad_id_ads_id_fk",
          "tableFrom": "contacted_ads",
          "columnsFrom": [
            "ad_id"
          ],
          "tableTo": "ads",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "contacted_ads_organization_id_organizations_id_fk": {
          "name": "contacted_ads_organization_id_organizations_id_fk",
          "tableFrom": "contacted_ads",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "contacted_ads_message_type_id_message_types_id_fk": {
          "name": "contacted_ads_message_type_id_message_types_id_fk",
          "tableFrom": "contacted_ads",
          "columnsFrom": [
            "message_type_id"
          ],
          "tableTo": "message_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "enable update for authenticated users": {
          "name": "enable update for authenticated users",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "true",
          "withCheck": "true"
        },
        "enable insert for authenticated users": {
          "name": "enable insert for authenticated users",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.driving_licences": {
      "name": "driving_licences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "driving_licence_name_unique": {
          "name": "driving_licence_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fuels": {
      "name": "fuels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fuel_name_unique": {
          "name": "fuel_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gear_boxes": {
      "name": "gear_boxes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "gear_box_name_unique": {
          "name": "gear_box_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.locations": {
      "name": "locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "zipcode": {
          "name": "zipcode",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lat": {
          "name": "lat",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "lng": {
          "name": "lng",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "locations_geo_idx": {
          "name": "locations_geo_idx",
          "columns": [
            {
              "expression": "(ST_MakePoint(\"lng\", \"lat\")::geography)",
              "isExpression": true,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "gist",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "zipcode_name_unique": {
          "name": "zipcode_name_unique",
          "columns": [
            "name",
            "zipcode"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vehicle_seats": {
      "name": "vehicle_seats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vehicle_seats_name_unique": {
          "name": "vehicle_seats_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vehicle_states": {
      "name": "vehicle_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lbc_value": {
          "name": "lbc_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lobstr_value": {
          "name": "lobstr_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vehicle_state_name_unique": {
          "name": "vehicle_state_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_balances": {
      "name": "credit_balances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sms": {
          "name": "sms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ringless_voice": {
          "name": "ringless_voice",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "whatsapp": {
          "name": "whatsapp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "credit_balances_organization_id_idx": {
          "name": "credit_balances_organization_id_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "credit_balances_organization_id_organizations_id_fk": {
          "name": "credit_balances_organization_id_organizations_id_fk",
          "tableFrom": "credit_balances",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "credit_balances_organization_id_unique": {
          "name": "credit_balances_organization_id_unique",
          "columns": [
            "organization_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for credit walet owners": {
          "name": "enable read for credit walet owners",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from organizations o\n        where o.id = \"credit_balances\".\"organization_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_packs": {
      "name": "credit_packs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "creditType": {
          "name": "creditType",
          "type": "credit_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "credits": {
          "name": "credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_eur": {
          "name": "price_eur",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "credit_packs_credit_type_idx": {
          "name": "credit_packs_credit_type_idx",
          "columns": [
            {
              "expression": "creditType",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_transactions": {
      "name": "credit_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "credit_type": {
          "name": "credit_type",
          "type": "credit_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "credit_transactions_org_created_idx": {
          "name": "credit_transactions_org_created_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "credit_transactions_reference_id_idx": {
          "name": "credit_transactions_reference_id_idx",
          "columns": [
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "credit_transactions_organization_id_organizations_id_fk": {
          "name": "credit_transactions_organization_id_organizations_id_fk",
          "tableFrom": "credit_transactions",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable read for transaction owners": {
          "name": "enable read for transaction owners",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n            select 1 from organizations o\n            where o.id = \"credit_transactions\".\"organization_id\"\n            and o.auth_user_id = (select auth.uid())\n          )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hunt_channel_credits": {
      "name": "hunt_channel_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "hunt_id": {
          "name": "hunt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "credit_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "credits_allocated": {
          "name": "credits_allocated",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credits_consumed": {
          "name": "credits_consumed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "hunt_channel_credits_hunt_id_idx": {
          "name": "hunt_channel_credits_hunt_id_idx",
          "columns": [
            {
              "expression": "hunt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "hunt_channel_credits_hunt_id_fk": {
          "name": "hunt_channel_credits_hunt_id_fk",
          "tableFrom": "hunt_channel_credits",
          "columnsFrom": [
            "hunt_id"
          ],
          "tableTo": "hunts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hunt_channel_unique": {
          "name": "hunt_channel_unique",
          "columns": [
            "hunt_id",
            "channel"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable all for hunt owners": {
          "name": "enable all for hunt owners",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from hunts h\n        join organizations o on o.id = h.organization_id\n        where h.id = \"hunt_channel_credits\".\"hunt_id\"\n        and o.auth_user_id = (select auth.uid())\n      )",
          "withCheck": "exists (\n        select 1 from hunts h\n        join organizations o on o.id = h.organization_id\n        where h.id = \"hunt_channel_credits\".\"hunt_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app_settings": {
      "name": "app_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "sms_alerts": {
          "name": "sms_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "slack_alerts": {
          "name": "slack_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.channel_priorities": {
      "name": "channel_priorities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "message_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "smallserial",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "channel_priorities_channel_unique": {
          "name": "channel_priorities_channel_unique",
          "columns": [
            "channel"
          ],
          "nullsNotDistinct": false
        },
        "channel_priorities_priority_unique": {
          "name": "channel_priorities_priority_unique",
          "columns": [
            "priority"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_types": {
      "name": "message_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "message_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "message_types_name_unique": {
          "name": "message_types_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable read for authenticated users": {
          "name": "enable read for authenticated users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.brands_hunts": {
      "name": "brands_hunts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "hunt_id": {
          "name": "hunt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "brand_id": {
          "name": "brand_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hunt_id_fk": {
          "name": "hunt_id_fk",
          "tableFrom": "brands_hunts",
          "columnsFrom": [
            "hunt_id"
          ],
          "tableTo": "hunts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "brands_id_fk": {
          "name": "brands_id_fk",
          "tableFrom": "brands_hunts",
          "columnsFrom": [
            "brand_id"
          ],
          "tableTo": "brands",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable all crud for the hunt owners": {
          "name": "enable all crud for the hunt owners",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from hunts h\n        join organizations o on o.id = h.organization_id\n        where h.id = \"brands_hunts\".\"hunt_id\"\n        and o.auth_user_id = (select auth.uid())\n      )",
          "withCheck": "exists (\n        select 1 from hunts h\n        join organizations o on o.id = h.organization_id\n        where h.id = \"brands_hunts\".\"hunt_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hunts": {
      "name": "hunts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type_id": {
          "name": "type_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "radiusInKm": {
          "name": "radiusInKm",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "hunt_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'paused'"
        },
        "auto_refresh": {
          "name": "auto_refresh",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "daily_pacing_limit": {
          "name": "daily_pacing_limit",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "outreach_settings": {
          "name": "outreach_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "template_ids": {
          "name": "template_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "last_scan_at": {
          "name": "last_scan_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "price_min": {
          "name": "price_min",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "mileage_min": {
          "name": "mileage_min",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "mileage_max": {
          "name": "mileage_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "model_year_min": {
          "name": "model_year_min",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 2010
        },
        "model_year_max": {
          "name": "model_year_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "has_been_reposted": {
          "name": "has_been_reposted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "price_has_dropped": {
          "name": "price_has_dropped",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_urgent": {
          "name": "is_urgent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_been_boosted": {
          "name": "has_been_boosted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_low_price": {
          "name": "is_low_price",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "price_max": {
          "name": "price_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "hunt_organization_id_status_idx": {
          "name": "hunt_organization_id_status_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "hunt_organization_id_idx": {
          "name": "hunt_organization_id_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "hunts_type_id_ad_types_id_fk": {
          "name": "hunts_type_id_ad_types_id_fk",
          "tableFrom": "hunts",
          "columnsFrom": [
            "type_id"
          ],
          "tableTo": "ad_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "hunts_location_id_locations_id_fk": {
          "name": "hunts_location_id_locations_id_fk",
          "tableFrom": "hunts",
          "columnsFrom": [
            "location_id"
          ],
          "tableTo": "locations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "hunt_organization_id_fk": {
          "name": "hunt_organization_id_fk",
          "tableFrom": "hunts",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable insert for authenticated roles": {
          "name": "enable insert for authenticated roles",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "enable read update and delete for the hunt owners": {
          "name": "enable read update and delete for the hunt owners",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from organizations o\n        where o.id = \"hunts\".\"organization_id\"\n        and o.auth_user_id = (select auth.uid())\n      )",
          "withCheck": "exists (\n        select 1 from organizations o\n        where o.id = \"hunts\".\"organization_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sub_types_Hunts": {
      "name": "sub_types_Hunts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "hunt_id": {
          "name": "hunt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sub_type_id": {
          "name": "sub_type_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hunt_id_fk": {
          "name": "hunt_id_fk",
          "tableFrom": "sub_types_Hunts",
          "columnsFrom": [
            "hunt_id"
          ],
          "tableTo": "hunts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "sub_types_id_fk": {
          "name": "sub_types_id_fk",
          "tableFrom": "sub_types_Hunts",
          "columnsFrom": [
            "sub_type_id"
          ],
          "tableTo": "sub_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable all crud for the hunt owners": {
          "name": "enable all crud for the hunt owners",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from hunts h\n        join organizations o on o.id = h.organization_id\n        where h.id = \"sub_types_Hunts\".\"hunt_id\"\n        and o.auth_user_id = (select auth.uid())\n      )",
          "withCheck": "exists (\n        select 1 from hunts h\n        join organizations o on o.id = h.organization_id\n        where h.id = \"sub_types_Hunts\".\"hunt_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.leads": {
      "name": "leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hunt_id": {
          "name": "hunt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ad_id": {
          "name": "ad_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stage": {
          "name": "stage",
          "type": "lead_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'nouveau'"
        },
        "assigned_to_id": {
          "name": "assigned_to_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "leads_organization_id_stage_idx": {
          "name": "leads_organization_id_stage_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "stage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "leads_organization_id_assigned_to_id_idx": {
          "name": "leads_organization_id_assigned_to_id_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "assigned_to_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "leads_hunt_id_idx": {
          "name": "leads_hunt_id_idx",
          "columns": [
            {
              "expression": "hunt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "leads_ad_id_idx": {
          "name": "leads_ad_id_idx",
          "columns": [
            {
              "expression": "ad_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "leads_organization_id_organizations_id_fk": {
          "name": "leads_organization_id_organizations_id_fk",
          "tableFrom": "leads",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "leads_hunt_id_hunts_id_fk": {
          "name": "leads_hunt_id_hunts_id_fk",
          "tableFrom": "leads",
          "columnsFrom": [
            "hunt_id"
          ],
          "tableTo": "hunts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "leads_ad_id_ads_id_fk": {
          "name": "leads_ad_id_ads_id_fk",
          "tableFrom": "leads",
          "columnsFrom": [
            "ad_id"
          ],
          "tableTo": "ads",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "leads_assigned_to_id_organization_members_id_fk": {
          "name": "leads_assigned_to_id_organization_members_id_fk",
          "tableFrom": "leads",
          "columnsFrom": [
            "assigned_to_id"
          ],
          "tableTo": "organization_members",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "leads_organization_id_ad_id_key": {
          "name": "leads_organization_id_ad_id_key",
          "columns": [
            "organization_id",
            "ad_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable all for owners of the associated organization": {
          "name": "enable all for owners of the associated organization",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n            select 1 from organizations o\n            where o.id = \"leads\".\"organization_id\"\n            and o.auth_user_id = (select auth.uid())\n          )",
          "withCheck": "exists (\n            select 1 from organizations o\n            where o.id = \"leads\".\"organization_id\"\n            and o.auth_user_id = (select auth.uid())\n          )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lead_activities": {
      "name": "lead_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "lead_activity_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "lead_activities_lead_id_created_at_idx": {
          "name": "lead_activities_lead_id_created_at_idx",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "lead_activities_type_idx": {
          "name": "lead_activities_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "lead_activities_lead_id_fk": {
          "name": "lead_activities_lead_id_fk",
          "tableFrom": "lead_activities",
          "columnsFrom": [
            "lead_id"
          ],
          "tableTo": "leads",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "lead_activities_created_by_id_fk": {
          "name": "lead_activities_created_by_id_fk",
          "tableFrom": "lead_activities",
          "columnsFrom": [
            "created_by_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable read for owners of the organization to which the leads are linked": {
          "name": "enable read for owners of the organization to which the leads are linked",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from leads l\n        join organization o on o.id = l.organization_id\n        where l.id = \"lead_activities\".\"lead_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        },
        "enable insert for owners of the organization to which the leads are linked": {
          "name": "enable insert for owners of the organization to which the leads are linked",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "exists (\n              select 1 from leads l\n        join organization o on o.id = l.organization_id\n        where l.id = \"lead_activities\".\"lead_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_templates": {
      "name": "message_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "message_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "message_channel",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audio_url": {
          "name": "audio_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audio_duration": {
          "name": "audio_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "message_templates_organization_id_fk": {
          "name": "message_templates_organization_id_fk",
          "tableFrom": "message_templates",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable all for owners of the associated organization": {
          "name": "enable all for owners of the associated organization",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n            select 1 from organizations o\n            where o.id = \"message_templates\".\"organization_id\"\n            and o.auth_user_id = (select auth.uid())\n          )",
          "withCheck": "exists (\n            select 1 from organizations o\n            where o.id = \"message_templates\".\"organization_id\"\n            and o.auth_user_id = (select auth.uid())\n          )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "message_channel",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "message_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sent_by_id": {
          "name": "sent_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "messages_lead_id_created_at_idx": {
          "name": "messages_lead_id_created_at_idx",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "messages_status_idx": {
          "name": "messages_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "messages_external_id_idx": {
          "name": "messages_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "messages_lead_id_fk": {
          "name": "messages_lead_id_fk",
          "tableFrom": "messages",
          "columnsFrom": [
            "lead_id"
          ],
          "tableTo": "leads",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "messages_template_id_fk": {
          "name": "messages_template_id_fk",
          "tableFrom": "messages",
          "columnsFrom": [
            "template_id"
          ],
          "tableTo": "message_templates",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "messages_sent_by_id_fk": {
          "name": "messages_sent_by_id_fk",
          "tableFrom": "messages",
          "columnsFrom": [
            "sent_by_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "enable all for owners of the organization to which the leads are linked": {
          "name": "enable all for owners of the organization to which the leads are linked",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from leads l\n        join organization o on o.id = l.organization_id\n        where l.id = \"messages\".\"lead_id\"\n        and o.auth_user_id = (select auth.uid())\n      )",
          "withCheck": "exists (\n        select 1 from leads l\n        join organization o on o.id = l.organization_id\n        where l.id = \"messages\".\"lead_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_variables": {
      "name": "template_variables",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "template_variables_key_unique": {
          "name": "template_variables_key_unique",
          "columns": [
            "key"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization_members": {
      "name": "organization_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organization_id_fk": {
          "name": "organization_id_fk",
          "tableFrom": "organization_members",
          "columnsFrom": [
            "organization_id"
          ],
          "tableTo": "organizations",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organisation_id_member_name_unique": {
          "name": "organisation_id_member_name_unique",
          "columns": [
            "organization_id",
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable all for organization owners": {
          "name": "enable all for organization owners",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "exists (\n        select 1 from organizations o\n        where o.id = \"organization_members\".\"organization_id\"\n        and o.auth_user_id = (select auth.uid())\n      )",
          "withCheck": "exists (\n        select 1 from organizations o\n        where o.id = \"organization_members\".\"organization_id\"\n        and o.auth_user_id = (select auth.uid())\n      )"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "picture_url": {
          "name": "picture_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(14)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "organization_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'personal'"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "auth_user_id_fk": {
          "name": "auth_user_id_fk",
          "tableFrom": "organizations",
          "columnsFrom": [
            "auth_user_id"
          ],
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "auth_user_id_unique": {
          "name": "auth_user_id_unique",
          "columns": [
            "auth_user_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "enable update for organization owners": {
          "name": "enable update for organization owners",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n        (select auth.uid()) = auth_user_id \n        -- OR\n        -- exists (\n        --   select 1 from organization_members om\n        --   join organizations o on o.id = om.member_organization_id\n        --   where om.organization_id = \"organizations\".\"id\"\n        --   and o.auth_user_id = (select auth.uid())\n        --   and om.role = $1\n        --   and om.joined_at is not null\n        )\n      ",
          "withCheck": "\n        (select auth.uid()) = auth_user_id \n        -- OR\n        -- exists (\n        --   select 1 from organization_members om\n        --   join organizations o on o.id = om.member_organization_id\n        --   where om.organization_id = \"organizations\".\"id\"\n        --   and o.auth_user_id = (select auth.uid())\n        --   and om.role = $1\n        --   and om.joined_at is not null\n        )\n      "
        },
        "enable delete for organization owners": {
          "name": "enable delete for organization owners",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\n        (select auth.uid()) = \"organizations\".\"auth_user_id\" \n      "
        },
        "enable read for organization owners": {
          "name": "enable read for organization owners",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n        (select auth.uid()) = auth_user_id \n        -- OR\n        -- exists (\n        --   select 1 from organization_members om\n        --   where om.organization_id = \"organizations\".\"id\"\n        --   and om.auth_user_id = (select auth.uid())\n        --   and om.joined_at is not null\n        -- )\n      "
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.credit_type": {
      "name": "credit_type",
      "schema": "public",
      "values": [
        "sms",
        "ringlessVoice",
        "whatsappText"
      ]
    },
    "public.transaction_type": {
      "name": "transaction_type",
      "schema": "public",
      "values": [
        "purchase",
        "usage",
        "refund",
        "adjustment"
      ]
    },
    "public.message_type": {
      "name": "message_type",
      "schema": "public",
      "values": [
        "whatsappText",
        "sms",
        "ringlessVoice"
      ]
    },
    "public.hunt_status": {
      "name": "hunt_status",
      "schema": "public",
      "values": [
        "active",
        "paused"
      ]
    },
    "public.lead_stage": {
      "name": "lead_stage",
      "schema": "public",
      "values": [
        "nouveau",
        "contacte",
        "relance",
        "gagne",
        "perdu"
      ]
    },
    "public.lead_activity_type": {
      "name": "lead_activity_type",
      "schema": "public",
      "values": [
        "stage_change",
        "message_sent",
        "assignment_change",
        "note_added",
        "reminder_set",
        "created"
      ]
    },
    "public.message_channel": {
      "name": "message_channel",
      "schema": "public",
      "values": [
        "whatsapp",
        "phone"
      ]
    },
    "public.message_status": {
      "name": "message_status",
      "schema": "public",
      "values": [
        "pending",
        "sent",
        "delivered",
        "failed",
        "read",
        "replied"
      ]
    },
    "public.organization_type": {
      "name": "organization_type",
      "schema": "public",
      "values": [
        "personal",
        "team"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "owner",
        "admin",
        "member"
      ]
    }
  },
  "schemas": {},
  "views": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}