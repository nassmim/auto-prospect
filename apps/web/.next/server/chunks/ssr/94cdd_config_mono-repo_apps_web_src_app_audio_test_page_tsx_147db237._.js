module.exports=[6870,a=>{"use strict";var b=a.i(84955),c=a.i(97701);function d(){let{isRecording:a,audioUrl:d,error:e,startRecording:f,stopRecording:g,resetRecording:h}=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(null),h=(0,c.useRef)(null),i=(0,c.useRef)([]),j=(0,c.useRef)(null),k=(0,c.useCallback)(async()=>{g(null),e(null);try{let a=await navigator.mediaDevices.getUserMedia({audio:!0});j.current=a;let c=new MediaRecorder(a);h.current=c,i.current=[],c.ondataavailable=a=>{a.data.size>0&&i.current.push(a.data)},c.onstop=()=>{let a=new Blob(i.current,{type:"audio/webm"}),b=URL.createObjectURL(a);e(b),j.current&&j.current.getTracks().forEach(a=>a.stop())},c.start(),b(!0)}catch(a){g(a instanceof Error?a.message:"Impossible d'accÃ©der au microphone")}},[]),l=(0,c.useCallback)(()=>{h.current&&a&&(h.current.stop(),b(!1))},[a]);return{isRecording:a,audioUrl:d,error:f,startRecording:k,stopRecording:l,resetRecording:(0,c.useCallback)(()=>{e(null),g(null),i.current=[]},[])}}();return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,b.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,b.jsx)("h1",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Test Enregistrement Audio"}),(0,b.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[e&&(0,b.jsx)("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-sm text-red-700",children:e}),(0,b.jsx)("div",{className:"flex justify-center gap-4",children:a?(0,b.jsxs)("button",{onClick:g,className:"flex items-center gap-2 rounded-lg bg-gray-900 px-6 py-3 font-medium text-white hover:bg-gray-800",children:[(0,b.jsx)("span",{className:"h-3 w-3 bg-white"}),"Stop"]}):(0,b.jsxs)("button",{onClick:f,className:"flex items-center gap-2 rounded-lg bg-red-600 px-6 py-3 font-medium text-white hover:bg-red-700",children:[(0,b.jsx)("span",{className:"h-3 w-3 rounded-full bg-white"}),"Enregistrer"]})}),a&&(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-red-600",children:[(0,b.jsx)("span",{className:"h-2 w-2 animate-pulse rounded-full bg-red-600"}),"Enregistrement en cours..."]}),d&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Lecture :"}),(0,b.jsx)("button",{onClick:h,className:"text-sm text-gray-500 hover:text-gray-700",children:"Supprimer"})]}),(0,b.jsx)("audio",{controls:!0,src:d,className:"w-full"})]})]})]})})}a.s(["default",()=>d],6870)}];

//# sourceMappingURL=94cdd_config_mono-repo_apps_web_src_app_audio_test_page_tsx_147db237._.js.map