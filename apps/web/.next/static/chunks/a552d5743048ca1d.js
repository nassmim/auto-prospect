(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29822,(e,t,r)=>{t.exports=e.r(86652)},57080,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={callServer:function(){return a.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var n in s)Object.defineProperty(r,n,{enumerable:!0,get:s[n]});let a=e.r(96328),l=e.r(81924),i=e.r(57599)},95649,33779,37699,e=>{"use strict";var t=e.i(17902);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let s=!1,n=e.map(e=>{let n=r(e,t);return s||"function"!=typeof n||(s=!0),n});if(s)return()=>{for(let t=0;t<n.length;t++){let s=n[t];"function"==typeof s?s():r(e[t],null)}}}}function n(...e){return t.useCallback(s(...e),e)}e.s(["composeRefs",()=>s,"useComposedRefs",()=>n],33779);var a=e.i(4386),l=Symbol.for("react.lazy"),i=t[" use ".trim().toString()];function o(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function c(e){var r;let n,l=(r=e,(n=t.forwardRef((e,r)=>{let{children:n,...a}=e;if(o(n)&&"function"==typeof i&&(n=i(n._payload)),t.isValidElement(n)){var l;let e,i,o=(l=n,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(a,n.props);return n.type!==t.Fragment&&(c.ref=r?s(r,o):o),t.cloneElement(n,c)}return t.Children.count(n)>1?t.Children.only(null):null})).displayName=`${r}.SlotClone`,n),c=t.forwardRef((e,r)=>{let{children:s,...n}=e;o(s)&&"function"==typeof i&&(s=i(s._payload));let c=t.Children.toArray(s),d=c.find(u);if(d){let e=d.props.children,s=c.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(l,{...n,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,a.jsx)(l,{...n,ref:r,children:s})});return c.displayName=`${e}.Slot`,c}var d=c("Slot"),E=Symbol("radix.slottable");function u(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===E}e.s(["Slot",()=>d,"createSlot",()=>c],95649);var _=e.i(88173);let N=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,I=_.clsx;e.s(["cva",0,(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return I(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:a}=t,l=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],s=null==a?void 0:a[e];if(null===t)return null;let l=N(t)||N(s);return n[e][l]}),i=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return I(e,l,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...i}[t]):({...a,...i})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}],37699)},68381,e=>{"use strict";var t=e.i(4386),r=e.i(95649),s=e.i(37699),n=e.i(8303);let a=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:s="default",size:l="default",asChild:i=!1,...o}){let c=i?r.Slot:"button";return(0,t.jsx)(c,{"data-slot":"button","data-variant":s,"data-size":l,className:(0,n.cn)(a({variant:s,size:l,className:e})),...o})}e.s(["Button",()=>l])},67713,e=>{"use strict";var t,r,s,n,a,l=((t={}).PHONE_REQUIRED="PHONE_REQUIRED",t.PHONE_INVALID_FORMAT="PHONE_INVALID_FORMAT",t.PHONE_UPDATE_FAILED="PHONE_UPDATE_FAILED",t.CONNECTION_TIMEOUT="CONNECTION_TIMEOUT",t.CONNECTION_FAILED="CONNECTION_FAILED",t.QR_GENERATION_FAILED="QR_GENERATION_FAILED",t.SESSION_NOT_FOUND="SESSION_NOT_FOUND",t.SESSION_EXPIRED="SESSION_EXPIRED",t.SESSION_SAVE_FAILED="SESSION_SAVE_FAILED",t.SESSION_DELETE_FAILED="SESSION_DELETE_FAILED",t.ACCOUNT_NOT_FOUND="ACCOUNT_NOT_FOUND",t.MESSAGE_SEND_FAILED="MESSAGE_SEND_FAILED",t.RECIPIENT_INVALID="RECIPIENT_INVALID",t),i=((r={}).VALIDATION_FAILED="VALIDATION_FAILED",r.UNAUTHORIZED="UNAUTHORIZED",r.DATABASE_ERROR="DATABASE_ERROR",r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_FOUND="NOT_FOUND",r.FORBIDDEN="FORBIDDEN",r.RATE_LIMITED="RATE_LIMITED",r.SERVER_ERROR="SERVER_ERROR",r),o=((s={}).API_KEY_REQUIRED="API_KEY_REQUIRED",s.API_KEY_INVALID="API_KEY_INVALID",s.API_KEY_SAVE_FAILED="API_KEY_SAVE_FAILED",s.ENCRYPTION_KEY_MISSING="ENCRYPTION_KEY_MISSING",s.PHONE_NUMBER_REQUIRED="PHONE_NUMBER_REQUIRED",s.PHONE_NUMBER_INVALID="PHONE_NUMBER_INVALID",s.MESSAGE_REQUIRED="MESSAGE_REQUIRED",s.MESSAGE_SEND_FAILED="MESSAGE_SEND_FAILED",s.ACCOUNT_NOT_FOUND="ACCOUNT_NOT_FOUND",s);(n={}).API_KEY_MISSING="API_KEY_MISSING",n.API_KEY_INVALID="API_KEY_INVALID",n.PHONE_NUMBER_REQUIRED="PHONE_NUMBER_REQUIRED",n.PHONE_NUMBER_INVALID="PHONE_NUMBER_INVALID",n.AUDIO_TOKEN_REQUIRED="AUDIO_TOKEN_REQUIRED",n.AUDIO_TOKEN_INVALID="AUDIO_TOKEN_INVALID",n.MESSAGE_SEND_FAILED="MESSAGE_SEND_FAILED",n.API_ERROR="API_ERROR";var c=((a={}).HUNT_EXECUTION_FAILED="HUNT_EXECUTION_FAILED",a.HUNT_STATUS_FETCH_FAILED="HUNT_STATUS_FETCH_FAILED",a.SMS_QUEUE_FAILED="SMS_QUEUE_FAILED",a.VOICE_QUEUE_FAILED="VOICE_QUEUE_FAILED",a.WHATSAPP_QUEUE_FAILED="WHATSAPP_QUEUE_FAILED",a.JOB_STATUS_FETCH_FAILED="JOB_STATUS_FETCH_FAILED",a.QUEUE_STATS_FETCH_FAILED="QUEUE_STATS_FETCH_FAILED",a.MISSING_REQUIRED_FIELDS="MISSING_REQUIRED_FIELDS",a.INVALID_QUEUE_NAME="INVALID_QUEUE_NAME",a.JOB_NOT_FOUND="JOB_NOT_FOUND",a.QUEUE_NOT_FOUND="QUEUE_NOT_FOUND",a);let d={[l.PHONE_REQUIRED]:"Renseigne ton numéro de téléphone",[l.PHONE_INVALID_FORMAT]:"Ton numéro n'est pas valide, vérifie le format",[l.PHONE_UPDATE_FAILED]:"Échec de mise à jour du numéro",[l.CONNECTION_TIMEOUT]:"La connexion a pris trop de temps. Réessaie.",[l.CONNECTION_FAILED]:"Échec de connexion WhatsApp",[l.QR_GENERATION_FAILED]:"Impossible de générer le QR code. Réessaie.",[l.SESSION_NOT_FOUND]:"Session WhatsApp non trouvée. Veuillez vous reconnecter.",[l.SESSION_EXPIRED]:"Session WhatsApp expirée. Veuillez vous reconnecter.",[l.SESSION_SAVE_FAILED]:"Échec de sauvegarde de la session",[l.SESSION_DELETE_FAILED]:"Échec de suppression de la session",[l.ACCOUNT_NOT_FOUND]:"Ton compte n'a pas été trouvé. Essaie de te connecter de nouveau. Si le problème persiste, contacte-nous",[l.MESSAGE_SEND_FAILED]:"Échec de l'envoi du message",[l.RECIPIENT_INVALID]:"Le numéro du destinataire n'est pas valide"},E={[i.VALIDATION_FAILED]:"Données invalides",[i.UNAUTHORIZED]:"Non autorisé",[i.DATABASE_ERROR]:"Erreur de base de données. Réessaie plus tard.",[i.UNKNOWN_ERROR]:"Une erreur inattendue s'est produite",[i.NOT_FOUND]:"La ressource demandée n'a pas été trouvée",[i.FORBIDDEN]:"Vous n'avez pas accès à cette ressource",[i.RATE_LIMITED]:"Trop de requêtes. Réessaie dans quelques instants.",[i.SERVER_ERROR]:"Une erreur serveur est survenue. Réessaie plus tard."},u={[o.API_KEY_REQUIRED]:"Configure d'abord ta clé API pour envoyer des SMS",[o.API_KEY_INVALID]:"Ta clé API n'est pas valide",[o.API_KEY_SAVE_FAILED]:"Échec de sauvegarde de la clé API. Réessaie.",[o.ENCRYPTION_KEY_MISSING]:"Erreur de configuration du serveur. Contacte-nous.",[o.PHONE_NUMBER_REQUIRED]:"Renseigne le numéro du destinataire",[o.PHONE_NUMBER_INVALID]:"Le numéro du destinataire n'est pas valide",[o.MESSAGE_REQUIRED]:"Renseigne le message à envoyer",[o.MESSAGE_SEND_FAILED]:"Échec de l'envoi du SMS. Réessaie.",[o.ACCOUNT_NOT_FOUND]:"Ton compte n'a pas été trouvé. Essaie de te connecter de nouveau."},_={[c.HUNT_EXECUTION_FAILED]:"Échec de l'exécution de la chasse. Réessaie.",[c.HUNT_STATUS_FETCH_FAILED]:"Impossible de récupérer le statut. Réessaie.",[c.SMS_QUEUE_FAILED]:"Échec de l'envoi du SMS. Réessaie.",[c.VOICE_QUEUE_FAILED]:"Échec de l'envoi du message vocal. Réessaie.",[c.WHATSAPP_QUEUE_FAILED]:"Échec de l'envoi WhatsApp. Réessaie.",[c.JOB_STATUS_FETCH_FAILED]:"Impossible de récupérer le statut du job. Réessaie.",[c.QUEUE_STATS_FETCH_FAILED]:"Impossible de récupérer les statistiques. Réessaie.",[c.MISSING_REQUIRED_FIELDS]:"Informations manquantes. Vérifie les données.",[c.INVALID_QUEUE_NAME]:"Nom de file invalide",[c.JOB_NOT_FOUND]:"Job introuvable",[c.QUEUE_NOT_FOUND]:"File introuvable"},N={...d,...E,...u,..._};e.s(["getErrorMessage",0,e=>N[e]||E[i.UNKNOWN_ERROR]],67713)},54033,e=>{"use strict";var t=e.i(57080);let r=(0,t.createServerReference)("402961b2028c15cda53f446734899e6650751a28ec",t.callServer,void 0,t.findSourceMapURL,"saveSmsApiKeyAction");e.s(["saveSmsApiKeyAction",()=>r])},71279,e=>{"use strict";var t=e.i(4386),r=e.i(54033),s=e.i(67713),n=e.i(29822),a=e.i(17902);function l({hasExistingKey:e=!1}){let l=(0,n.useRouter)(),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[E,u]=(0,a.useState)(null),_=async t=>{t.preventDefault(),d(!0),u(null);let n=await (0,r.saveSmsApiKeyAction)({apiKey:i.trim()});d(!1),n.success?(u({type:"success",text:e?"Ta clé a bien été mise à jour":"Ta clé a bien été sauvegardée"}),o(""),l.refresh()):u({type:"error",text:n.errorCode?(0,s.getErrorMessage)(n.errorCode):"Une erreur est survenue"}),setTimeout(()=>u(null),5e3)};return(0,t.jsxs)("div",{className:"w-full max-w-md",children:[e&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Clé API déjà configurée"}),(0,t.jsx)("p",{className:"text-blue-700 mt-0.5",children:"Tu peux mettre à jour ta clé API en entrant une nouvelle clé ci-dessous."})]})]}),(0,t.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-black mb-2",children:"Ta clé api"}),(0,t.jsx)("input",{id:"apiKey",type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Entrer ta clé API",className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",disabled:c})]}),(0,t.jsx)("button",{type:"submit",disabled:c||!i.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c?"Enregistrement...":e?"Mettre à jour":"Connecter"})]}),E&&(0,t.jsx)("div",{className:`mt-4 p-4 rounded-lg ${"success"===E.type?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:E.text})]})}var i=e.i(68381);function o({hasApiKey:e,isApiAllowed:r}){return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ${e?"bg-green-100 text-green-700":"bg-gray-900 text-white"}`,children:e?"✓":"1"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Configuration SMS"})]}),r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-black mb-8",children:"Configure ta clé API pour envoyer des SMS depuis ton mobile"}),(0,t.jsx)(l,{hasExistingKey:e})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-black",children:"Pour accéder à la configuration SMS, contactez-nous pour activer cette fonctionnalité sur votre compte."}),(0,t.jsx)(i.Button,{onClick:()=>{console.log("Contact button clicked - email alert to be implemented")},className:"w-full sm:w-auto",children:"Nous contacter"})]})]})}e.s(["default",()=>o],71279)},10697,e=>{"use strict";var t=e.i(4386),r=e.i(57080);let s=(0,r.createServerReference)("40711bdcd157ee4f0bb00bd56280c29c32af8f3466",r.callServer,void 0,r.findSourceMapURL,"sendSmsAction");var n=e.i(67713),a=e.i(17902);function l({hasApiKey:e}){let[r,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[E,u]=(0,a.useState)(null),_=async()=>{if(!r||!i)return;d(!0),u(null);let e=await s({to:r,message:i});u(e),d(!1),e.success&&(l(""),o(""))};return(0,t.jsxs)("div",{className:`bg-white rounded-lg shadow-md p-8 ${!e?"opacity-50":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold ${e?"bg-gray-900 text-white":"bg-gray-200 text-gray-500"}`,children:"2"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-black",children:"Envoyer un SMS de test"})]}),e?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"mb-4 rounded-lg border border-orange-200 bg-orange-50 p-3",children:(0,t.jsx)("p",{className:"text-sm text-orange-800",children:"⚠️ Attention : cela utilise ton forfait mobile avec ta carte SIM"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-sm font-medium text-black",children:"Numéro destinataire"}),(0,t.jsx)("input",{type:"tel",value:r,onChange:e=>l(e.target.value),placeholder:"+33612345678",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-black focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-black",children:"Format international (ex: +33612345678)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-sm font-medium text-black",children:"Message"}),(0,t.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"Bonjour, ceci est un message de test...",rows:3,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-black focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"})]}),(0,t.jsx)("button",{onClick:_,disabled:c||!r||!i,className:"w-full rounded-lg bg-blue-600 py-2.5 font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Envoi en cours...":"Envoyer le SMS"}),E&&(0,t.jsx)("div",{className:`rounded-lg p-3 text-sm ${E.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:E.success?"✓ SMS envoyé avec succès !":`✗ Erreur: ${E.errorCode?(0,n.getErrorMessage)(E.errorCode):"Échec de l'envoi du SMS"}`})]}):(0,t.jsx)("p",{className:"text-sm text-black",children:"Configure d'abord ta clé API pour envoyer des SMS"})]})}e.s(["default",()=>l],10697)}]);